{"ast":null,"code":"var _jsxFileName = \"/Users/ahmadbishara/Desktop/finalthesisfrontend/src/pages/HomePage.js\",\n  _s = $RefreshSig$();\n// src/pages/HomePage.js\nimport React, { useEffect, useState } from 'react';\nimport { FaUserCircle, FaShoppingCart, FaSearch, FaTimes } from 'react-icons/fa';\nimport { useNavigate } from \"react-router-dom\";\nimport \"../assets/styles/HomePage.css\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Breadcrumb from '../components/Breadcrumb';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst apiUrl = 'http://localhost:8080';\nfunction HomePage() {\n  _s();\n  const navigate = useNavigate();\n  const [items, setItems] = useState([]);\n  const [cart, setCart] = useState({\n    items: [],\n    total: 0,\n    count: 0\n  });\n  const [animatedItemId, setAnimatedItemId] = useState(null); // State to track animated item\n  const [showCart, setShowCart] = useState(false);\n  const [showSearch, setShowSearch] = useState(false);\n  const [recentSearch, setRecentSearch] = useState('');\n  const [filteredItems, setFilteredItems] = useState([]); // State for filtered items\n  const [showAccountDropdown, setShowAccountDropdown] = useState(false);\n  const role = localStorage.getItem('userRole') || 'guest';\n  const username = localStorage.getItem('username') || 'Guest'; // Default to \"Guest\" if no username is found\n\n  const [searchSuggestions, setSearchSuggestions] = useState({\n    recent: [],\n    popular: ['crossbody', 'wallet', 'backpack', 'boots'],\n    suggested: []\n  });\n  const isGuest = localStorage.getItem('userRole') === 'guest';\n  const userId = localStorage.getItem('jwtToken');\n  const toggleSearch = () => {\n    setShowSearch(!showSearch);\n    if (showSearch) {\n      setRecentSearch('');\n    }\n  };\n  const handleAccountClick = () => setShowAccountDropdown(!showAccountDropdown);\n  const increaseQuantity = async item => {\n    const updatedCart = cart.items.map(cartItem => {\n      if (cartItem.id === item.id) {\n        return {\n          ...cartItem,\n          quantity: cartItem.quantity + 1\n        };\n      }\n      return cartItem;\n    });\n    setCart({\n      ...cart,\n      items: updatedCart\n    });\n  };\n  const decreaseQuantity = item => {\n    const updatedCart = cart.items.map(cartItem => {\n      if (cartItem.id === item.id && cartItem.quantity >= 0) {\n        if (cartItem.quantity === 0) {\n          // delete from cart automatically\n          removeItemFromCart();\n        } else {\n          // decrease \n          return {\n            ...cartItem,\n            quantity: cartItem.quantity - 1\n          };\n        }\n      }\n      return cartItem;\n    });\n    setCart({\n      ...cart,\n      items: updatedCart\n    });\n  };\n  const handleSearch = event => {\n    const searchInput = event.target.value;\n    setRecentSearch(searchInput);\n    if (event.key === \"Enter\") {\n      onSearch(searchInput);\n    }\n\n    // Dynamically update suggestions based on the input\n    setSearchSuggestions(prev => ({\n      ...prev,\n      suggested: items.filter(item => item.name.toLowerCase().includes(searchInput.toLowerCase())).slice(0, 5)\n    }));\n  };\n  const onSearch = searchInput => {\n    setRecentSearch(searchInput);\n    // Save the search in recent searches\n    setSearchSuggestions(prev => {\n      const updatedRecent = [searchInput, ...prev.recent.filter(item => item !== searchInput)].slice(0, 5);\n      // Save to localStorage\n      localStorage.setItem('recentSearches', JSON.stringify(updatedRecent));\n      return {\n        ...prev,\n        recent: updatedRecent\n      };\n    });\n    /* \n    TODO: \n    Render the page to show the desired item when search button\n    */\n    // Filter items\n    const filtered = items.filter(item => item.name.toLowerCase().includes(searchInput.toLowerCase()) || item.description.toLowerCase().includes(searchInput.toLowerCase()));\n    setFilteredItems(filtered);\n  };\n  const getCurrentItems = async () => {\n    try {\n      const response = await fetch(`${apiUrl}/api/items`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setItems(data);\n        setFilteredItems(data);\n        setSearchSuggestions(prev => ({\n          ...prev,\n          suggested: data.slice(0, 5)\n        }));\n      } else {\n        console.error('Error fetching items');\n        navigate('/login');\n      }\n    } catch (e) {\n      console.error(\"Error fetching items:\", e);\n    }\n  };\n  const getCartData = async () => {\n    try {\n      const response = await fetch(`${apiUrl}/api/cart/get-cart`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + userId\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setCart({\n          items: data.items,\n          total: data.total,\n          count: data.count\n        });\n      } else {\n        console.error('Error fetching cart items');\n        navigate('/login');\n      }\n    } catch (e) {\n      console.error(\"Error fetching cart items:\", e);\n    }\n  };\n\n  // Function to handle \"Add to Cart\"\n  const addToCart = async item => {\n    try {\n      const response = await fetch(`${apiUrl}/api/cart/add-item`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + userId\n        },\n        body: JSON.stringify({\n          id: item.id\n        }) // Send only the item ID\n      });\n      if (response.ok) {\n        toast.success('Item added to cart');\n        setAnimatedItemId(item.id); // Trigger animation for the item\n        setTimeout(() => setAnimatedItemId(null), 1000); // Clear animation state after 1 second\n      } else {\n        toast.error('Error adding item to cart');\n        console.error('Error adding item to cart');\n      }\n    } catch (e) {\n      console.error(\"Error adding item to cart:\", e);\n    }\n  };\n  const removeItemFromCart = async item => {\n    try {\n      const response = await fetch(`${apiUrl}/api/cart/remove-item/${item.id}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + userId\n        }\n      });\n      if (response.ok) {\n        toast.success('Item removed from cart');\n        getCartData();\n      } else {\n        toast.error('Error removing item from cart');\n        console.error('Error removing item from cart');\n      }\n    } catch (e) {\n      console.error('Error removing item from cart:', e);\n    }\n  };\n  const handleCheckout = async () => {\n    const role = localStorage.getItem(\"userRole\");\n    if (role === 'guest') {\n      toast.error('Please login to checkout');\n      navigate('/login', {\n        state: {\n          redirectTo: '/cart-page'\n        }\n      });\n    } else {\n      navigate('/cart-page');\n    }\n  };\n  useEffect(() => {\n    getCurrentItems();\n    getCartData();\n\n    // Load recent searches from localStorage\n    const storedRecentSearches = JSON.parse(localStorage.getItem('recentSearches')) || [];\n    setSearchSuggestions(prev => ({\n      ...prev,\n      recent: storedRecentSearches\n    }));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"homepage\",\n    children: [/*#__PURE__*/_jsxDEV(Breadcrumb, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navbar\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navbar-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"brand-name\",\n          children: \"Tezkar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"icons\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-icon\",\n            onClick: toggleSearch,\n            children: showSearch ? /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 23\n            }, this) : /*#__PURE__*/_jsxDEV(FaSearch, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 11\n          }, this), showSearch && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"search-input\",\n              placeholder: \"Search...\",\n              value: recentSearch,\n              onChange: e => handleSearch(e),\n              onKeyDown: e => handleSearch(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"search-suggestions\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Suggestions:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this), searchSuggestions.suggested.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: searchSuggestions.suggested.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  onClick: () => onSearch(item.name),\n                  className: \"suggestion-item\",\n                  children: item.name\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"No suggestions available\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Recent Searches:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: searchSuggestions.recent.map((recent, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  onClick: () => onSearch(recent),\n                  className: \"recent-item\",\n                  children: recent\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"account-icon\",\n            onClick: handleAccountClick,\n            onMouseEnter: () => setShowAccountDropdown(true),\n            onMouseLeave: () => setShowAccountDropdown(false),\n            children: [/*#__PURE__*/_jsxDEV(FaUserCircle, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 13\n            }, this), showAccountDropdown && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"account-dropdown\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Hello, \", username]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: role\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                onClick: () => navigate(`/account`),\n                children: \" Account\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  onClick: () => navigate('/track-order'),\n                  children: \"Track Order\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  onClick: () => navigate('/order-status'),\n                  children: \"Order Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-icon\",\n            onMouseEnter: () => setShowCart(true),\n            onMouseLeave: () => setShowCart(false),\n            children: [/*#__PURE__*/_jsxDEV(FaShoppingCart, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 13\n            }, this), showCart && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-preview\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Your Cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 21\n              }, this), cart.items.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [cart.items.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cart-preview-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [item.name, \" x \", item.quantity]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"$\", (item.price * item.quantity).toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"quantity-adjustment\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => decreaseQuantity(item),\n                      children: \"-\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 319,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: item.quantity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 320,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => increaseQuantity(item),\n                      children: \"+\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 321,\n                      columnNumber: 35\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"remove-item\",\n                    onClick: () => removeItemFromCart(item),\n                    children: \"Remove\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 33\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 33\n                }, this)), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Total: $\", cart.total.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleCheckout,\n                  children: \"View Cart\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 25\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Your cart is empty\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"items-container\",\n      children: [items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `item-box ${animatedItemId === item.id ? 'animate' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"item-image\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `${apiUrl}${item.image}`,\n            alt: item.name,\n            className: \"item-img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"item-desc\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: item.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"$\", item.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => addToCart(item),\n            children: \"Add to Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate(`/view-item/${item.id}`),\n            children: \"View Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this)), isGuest && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"logged-in-guest\",\n        children: \" You are browsing as guest. Register for a full experience! \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 234,\n    columnNumber: 5\n  }, this);\n}\n_s(HomePage, \"7I4uJUbNJakIKxfzmAh1HubFFoU=\", false, function () {\n  return [useNavigate];\n});\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useEffect","useState","FaUserCircle","FaShoppingCart","FaSearch","FaTimes","useNavigate","toast","ToastContainer","Breadcrumb","jsxDEV","_jsxDEV","apiUrl","HomePage","_s","navigate","items","setItems","cart","setCart","total","count","animatedItemId","setAnimatedItemId","showCart","setShowCart","showSearch","setShowSearch","recentSearch","setRecentSearch","filteredItems","setFilteredItems","showAccountDropdown","setShowAccountDropdown","role","localStorage","getItem","username","searchSuggestions","setSearchSuggestions","recent","popular","suggested","isGuest","userId","toggleSearch","handleAccountClick","increaseQuantity","item","updatedCart","map","cartItem","id","quantity","decreaseQuantity","removeItemFromCart","handleSearch","event","searchInput","target","value","key","onSearch","prev","filter","name","toLowerCase","includes","slice","updatedRecent","setItem","JSON","stringify","filtered","description","getCurrentItems","response","fetch","method","headers","ok","data","json","console","error","e","getCartData","addToCart","body","success","setTimeout","handleCheckout","state","redirectTo","storedRecentSearches","parse","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","placeholder","onChange","onKeyDown","length","index","onMouseEnter","onMouseLeave","price","toFixed","src","image","alt","_c","$RefreshReg$"],"sources":["/Users/ahmadbishara/Desktop/finalthesisfrontend/src/pages/HomePage.js"],"sourcesContent":["// src/pages/HomePage.js\nimport React, { useEffect, useState } from 'react';\nimport { FaUserCircle, FaShoppingCart, FaSearch , FaTimes} from 'react-icons/fa';\nimport { useNavigate } from \"react-router-dom\";\nimport \"../assets/styles/HomePage.css\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Breadcrumb from '../components/Breadcrumb';\n\n\nconst apiUrl = 'http://localhost:8080';\n\nfunction HomePage() {\n  const navigate = useNavigate();\n  const [items, setItems] = useState([]);\n  const [cart, setCart] = useState({ items: [], total: 0, count: 0 });\n  const [animatedItemId, setAnimatedItemId] = useState(null); // State to track animated item\n  const [showCart , setShowCart] = useState(false);\n  const [showSearch, setShowSearch] = useState(false);\n  const [recentSearch, setRecentSearch] = useState('');\n  const [filteredItems, setFilteredItems] = useState([]); // State for filtered items\n  const [showAccountDropdown, setShowAccountDropdown] = useState(false);\n  const role = localStorage.getItem('userRole') || 'guest';\n  const username = localStorage.getItem('username') || 'Guest'; // Default to \"Guest\" if no username is found\n\n  const [searchSuggestions, setSearchSuggestions] = useState({\n    recent: [],\n    popular: ['crossbody', 'wallet', 'backpack', 'boots'],\n    suggested: [],\n  });\n  const isGuest = localStorage.getItem('userRole') === 'guest';\n  const userId = localStorage.getItem('jwtToken');\n\n  const toggleSearch = () => {\n    setShowSearch(!showSearch);\n    if(showSearch){\n      setRecentSearch('');\n    }\n  };\n\n  const handleAccountClick = () => setShowAccountDropdown(!showAccountDropdown);\n\n\nconst increaseQuantity = async (item) => {\n  const updatedCart = cart.items.map((cartItem) => {\n    if(cartItem.id === item.id){\n      return { ...cartItem, quantity: cartItem.quantity + 1};\n    }\n    return cartItem;\n  });\n  setCart({ ...cart, items: updatedCart });\n};\n\nconst decreaseQuantity = (item) => {\n  const updatedCart = cart.items.map(cartItem => {\n      if (cartItem.id === item.id && cartItem.quantity >= 0) {\n        if(cartItem.quantity === 0){\n          // delete from cart automatically\n          removeItemFromCart()\n        }else{\n          // decrease \n          return { ...cartItem, quantity: cartItem.quantity - 1 };\n        }\n      }\n      return cartItem;\n  });\n  setCart({ ...cart, items: updatedCart });\n};\n\n\n  \n  const handleSearch = (event) => {\n    const searchInput = event.target.value;\n    setRecentSearch(searchInput);\n\n    if (event.key === \"Enter\") {\n      onSearch(searchInput);\n    }\n\n    // Dynamically update suggestions based on the input\n    setSearchSuggestions((prev) => ({\n      ...prev,\n      suggested: items\n        .filter((item) =>\n          item.name.toLowerCase().includes(searchInput.toLowerCase())\n        )\n        .slice(0, 5),\n    }));\n  };\n\n\n  const onSearch = (searchInput) => {\n    setRecentSearch(searchInput);\n    // Save the search in recent searches\n    setSearchSuggestions((prev) => {\n      const updatedRecent = [\n        searchInput,\n        ...prev.recent.filter((item) => item !== searchInput),\n      ].slice(0, 5);\n      // Save to localStorage\n      localStorage.setItem('recentSearches', JSON.stringify(updatedRecent));\n      return {\n        ...prev,\n        recent: updatedRecent,\n      };\n    });\n    /* \n    TODO: \n    Render the page to show the desired item when search button\n    */ \n    // Filter items\n    const filtered = items.filter(\n      (item) =>\n        item.name.toLowerCase().includes(searchInput.toLowerCase()) ||\n        item.description.toLowerCase().includes(searchInput.toLowerCase())\n    );\n    setFilteredItems(filtered);\n  };\n  \n  const getCurrentItems = async () => {\n    try {\n        const response = await fetch(`${apiUrl}/api/items`, { \n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        });\n        if(response.ok){\n            const data = await response.json();\n            setItems(data);\n            setFilteredItems(data);\n            setSearchSuggestions((prev) => ({\n              ...prev,\n              suggested: data.slice(0,5),\n            }));\n          } else {\n            console.error('Error fetching items');\n            navigate('/login');\n        }\n    } catch(e) {\n        console.error(\"Error fetching items:\", e);\n    }\n  };\n\n  const getCartData = async () => {\n    try{\n        const response = await fetch(`${apiUrl}/api/cart/get-cart`, {\n            method: 'GET',\n            headers: {\n            'Content-Type': 'application/json',\n            'Authorization': 'Bearer ' + userId\n        }\n    });\n        if(response.ok){\n            const data = await response.json();\n            setCart({ items: data.items, total: data.total, count: data.count });\n        }else{\n            console.error('Error fetching cart items');\n            navigate('/login');\n        }\n    }catch(e){\n        console.error(\"Error fetching cart items:\", e);\n        } \n    };\n\n  // Function to handle \"Add to Cart\"\n  const addToCart = async (item) => {\n    try {\n        const response = await fetch(`${apiUrl}/api/cart/add-item`, { \n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + userId\n            },\n            body: JSON.stringify({ id: item.id }), // Send only the item ID\n          });\n        if(response.ok){\n            toast.success('Item added to cart');\n            setAnimatedItemId(item.id); // Trigger animation for the item\n            setTimeout(() => setAnimatedItemId(null), 1000); // Clear animation state after 1 second\n        } else {\n            toast.error('Error adding item to cart');\n            console.error('Error adding item to cart');\n        }\n    } catch (e) {\n        console.error(\"Error adding item to cart:\", e);\n    }\n  };\n  \n  const removeItemFromCart = async (item) => {\n    try{\n      const response = await fetch(`${apiUrl}/api/cart/remove-item/${item.id}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + userId,\n        },\n      });\n      if(response.ok){\n        toast.success('Item removed from cart');\n        getCartData();\n      }else{\n        toast.error('Error removing item from cart');\n        console.error('Error removing item from cart');\n      }\n    }catch(e){\n      console.error('Error removing item from cart:', e);\n    }\n  };\n  \n  const handleCheckout = async () => {\n    const role = localStorage.getItem(\"userRole\");\n    if(role === 'guest'){\n      toast.error('Please login to checkout');\n      navigate('/login', { state: { redirectTo: '/cart-page' } });\n    }else{\n      navigate('/cart-page');\n    }\n  }\n\n  useEffect(() => {\n    getCurrentItems();\n    getCartData();\n\n    // Load recent searches from localStorage\n    const storedRecentSearches = JSON.parse(localStorage.getItem('recentSearches')) || [];\n    setSearchSuggestions((prev) => ({\n      ...prev,\n      recent: storedRecentSearches,\n    }));\n  }, []);\n\n  return (\n    <div className=\"homepage\">\n      <Breadcrumb />\n      <div className=\"navbar\">\n        <div className=\"navbar-content\">\n          <span className=\"brand-name\">Tezkar</span>\n          <div className=\"icons\">\n          <div className=\"search-icon\" onClick={toggleSearch}>\n        {showSearch ? <FaTimes /> : <FaSearch />}\n      </div>\n      {showSearch && (\n            <div className=\"search-container\">\n              <input\n                type=\"text\"\n                className=\"search-input\"\n                placeholder=\"Search...\"\n                value={recentSearch}\n                onChange={(e) => handleSearch(e)}\n                onKeyDown={(e) => handleSearch(e)}\n              />\n              <div className=\"search-suggestions\">\n                <h4>Suggestions:</h4>\n                {searchSuggestions.suggested.length > 0 ? (\n                  <ul>\n                    {searchSuggestions.suggested.map((item, index) => (\n                      <li\n                        key={index}\n                        onClick={() => onSearch(item.name)}\n                        className=\"suggestion-item\"\n                      >\n                        {item.name}\n                      </li>\n                    ))}\n                  </ul>\n                ) : (\n                  <p>No suggestions available</p>\n                )}\n                <h4>Recent Searches:</h4>\n                <ul>\n                  {searchSuggestions.recent.map((recent, index) => (\n                    <li\n                      key={index}\n                      onClick={() => onSearch(recent)}\n                      className=\"recent-item\"\n                    >\n                      {recent}\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n          )}\n\n            <div className='account-icon' onClick={handleAccountClick}\n              onMouseEnter={() => setShowAccountDropdown(true)}\n              onMouseLeave={() => setShowAccountDropdown(false)}\n            >\n            <FaUserCircle />\n            {showAccountDropdown && (\n              <div className='account-dropdown'>\n                <p>Hello, {username}</p>\n                <small>{role}</small>\n                <small onClick={() => navigate(`/account`)}> Account</small>\n                <ul>\n                <li onClick={() => navigate('/track-order')}>Track Order</li>\n                <li onClick={() => navigate('/order-status')}>Order Status</li>\n                </ul>\n                </div>\n                )}\n            </div>\n            <div \n               className=\"cart-icon\" \n               onMouseEnter={() => setShowCart(true)} \n               onMouseLeave={() => setShowCart(false)}\n            >\n            <FaShoppingCart />\n            {showCart && (\n                <div className='cart-preview'>\n                    <h3>Your Cart</h3>\n                    {cart.items.length > 0 ?(\n                        <div> \n                            {cart.items.map((item, index) => (\n                                <div key={index} className=\"cart-preview-item\">\n                                <p>{item.name} x {item.quantity}</p>\n                                <p>${(item.price * item.quantity).toFixed(2)}</p>\n                                <div className='quantity-adjustment'>\n                                  <button onClick={() => decreaseQuantity(item)}>-</button>\n                                  <span>{item.quantity}</span>\n                                  <button onClick={() => increaseQuantity(item)}>+</button>\n                                </div>\n                                <button className='remove-item' onClick={() => removeItemFromCart(item)}>Remove</button>\n                        </div>\n                    ))}\n                    <hr />\n                    <p>Total: ${cart.total.toFixed(2)}</p>\n                    <button onClick={handleCheckout} >View Cart</button>\n                    </div>\n                    ) : (\n                        <p>Your cart is empty</p>\n                    )}\n                    </div>\n                )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n    <div className=\"items-container\">\n      {items.map(item => (\n        <div \n          key={item.id} \n          className={`item-box ${animatedItemId === item.id ? 'animate' : ''}`}\n        >\n          <h3>{item.name}</h3>\n          <div className=\"item-image\">\n            <img src={`${apiUrl}${item.image}`} alt={item.name} className=\"item-img\" />\n          </div>\n          <div className=\"item-desc\">\n            <p>{item.description}</p>\n          </div>\n          <p>${item.price}</p>\n          <div className=\"button-container\">\n              <button onClick={() => addToCart(item)}>Add to Cart</button>\n              <button onClick={() => navigate(`/view-item/${item.id}`)}>View Item</button>\n              </div>\n        </div>\n      ))}\n      {isGuest && <p className='logged-in-guest'> You are browsing as guest. Register for a full experience! </p>}\n      <ToastContainer />\n    </div>\n  </div>\n  );\n}\n\nexport default HomePage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}